"use client";import {useEffect,useState} from"react";const WIDGET_ID="68f725e8c85cf9ab76245c19";export default function ConsentChat(){const[c,s]=useState(null);const l=()=>{if(document.querySelector('script[data-ghl-chat]'))return;const x=document.createElement('script');x.src='https://widgets.leadconnectorhq.com/loader.js';x.setAttribute('data-resources-url','https://widgets.leadconnectorhq.com/chat-widget/loader.js');x.setAttribute('data-widget-id',WIDGET_ID);x.setAttribute('data-ghl-chat','true');x.async=true;document.body.appendChild(x);};useEffect(()=>{const v=typeof window!=='undefined'?localStorage.getItem('chatConsent'):null;if(v==='yes'){s('yes');l();}else{s(v);}},[]);if(c==='yes')return null;return(<div className="fixed bottom-4 left-1/2 -translate-x-1/2 z-50 max-w-xl w-[90%] rounded-2xl border border-neutral-200 bg-white shadow p-4 md:p-5 text-sm"><div className="mb-2 font-medium">We use a chat widget to assist visitors.</div><p className="text-neutral-600">Donâ€™t share protected health information (PHI) in chat. Do you consent to load the chat widget?</p><div className="mt-4 flex gap-3"><button onClick={()=>{localStorage.setItem('chatConsent','yes');s('yes');l();}} className="rounded-xl px-4 py-2 bg-brandOrange text-white">Accept</button><button onClick={()=>{localStorage.setItem('chatConsent','no');s('no');}} className="rounded-xl px-4 py-2 border">Decline</button></div></div>);}